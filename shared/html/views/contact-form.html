<div class="main-page">
    <form id="contactForm" name="contactForm" novalidate>
        <div class="contact-form">
            <h3 ng-if="contact._id == undefined" class="heading">{{'ADD_NEW_CONTACT' | translate}}</h3>
            <h3 ng-if="contact._id != undefined" class="heading">{{'EDIT_CONTACT' | translate}}</h3>
            <hr />
            
            <div class="left-column">
                <div class="profile-pic">
                    <img src="{{contact.profile_pic && contact.profile_pic || 'resources/img/contact_photo.png'}}?v={{rand}}" ng-click="openPhotoSelector()" height="" width="100%" />
                </div>
                <div class="action-buttons align-center">
                    <span>
                        <i ng-class="{'icon-favorite-active':is_favorite,'icon-favorite':!is_favorite}" id="favorite_{{contact._id}}" data-is-starred="{{is_favorite==true}}" id="favorite" ng-click="is_favorite=!is_favorite; updateContactObject();"></i>
                    </span>
                    <span class="pipe">|</span>

                    <span ng-click='show_group =!show_group; getGroupStatus()' class="group-icon-container">
                        <i class="icon-group"></i>
                    </span>
                    <div id="groups-list" class="contact-group-list" ng-show="show_group" click-outside="closeGroupsDiv()">
                        <h5>{{'ADD_TO_GROUP' | translate}}</h5>
                        <hr class="dialog-horizontal-bar">
                        <div class="group-list-content">
                            <ul class="groups-checklist">
                                <li ng-repeat="x in groups track by $index" ng-click="updateContactObject()" class="groups-checklist-item">
                                    <label for="{{x._id}}" title="{{x.name}}"><input type="checkbox" id="{{x._id}}" />  {{x.name}}</label>
                                </li>
                            </ul>
                        </div>
                        <div class="create-group" ng-show="showCreateGroup">
                            <input type="text" placeholder="{{'PLACEHOLDER_NAME' | translate}}" ng-model="group.name" autofocus>
                            <button type="button" class="mycontacts-btn" ng-click="createGroup(group); showCreateGroup=!showCreateGroup">{{'SAVE' | translate}}</button>
                        </div>
                        <button type="button" ng-click="showCreateGroup=!showCreateGroup" class="ng-binding">{{'CREATE_NEW_GROUP' | translate}}</button>
                    </div>
                    <span class="pipe">|</span>

                    <span classkey="favorites" id="private_{{contact._id}}" ng-click="is_locked=!is_locked;updateContactObject();">
                        <i ng-class="{'icon-private-active':is_locked, 'icon-private':!is_locked}"></i>
                    </span>
                </div>
            </div>
            <div class="right-column">
                <div class="form-content">
                    <div class="container-fluid">
                        <div class="row">
                            <label>{{'NAME' | translate}}</label><br />
                        </div>
                        <div class="row" ng-show="show_title" ng-class="{ 'has-error' : contactForm.contacttitle.$invalid && !contactForm.contacttitle.$pristine }">
                            <div class="row">
                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2">
                                    <span>{{'TITLE' | translate}}: </span>
                                </div>

                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                    <input type="text" ng-maxlength="10" id="contacttitle" name="contacttitle" placeholder="{{'PLACEHOLDER_NAME' | translate}}" ng-model="contact.title" />
                                    <span class="cgridbtn icon-delete-contact-field" ng-click="removeTitle();"></span>
                                    <p ng-show="contactForm.contacttitle.$error.maxlength" class="help-block">{{'TITLE_MAX_LENGTH' | translate}}</p>
                                </div>
                            </div>
                        </div>

                        <div class="row" ng-class="{ 'has-error' : contactForm.fname.$invalid && !contactForm.fname.$pristine }">
                            <div class="row top-buffer">
                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2">
                                    <span>{{'FIRST_NAME' | translate}}: </span>
                                </div>

                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                    <input type="text" ng-maxlength="25" id="fname" name="fname" placeholder="{{'PLACEHOLDER_NAME' | translate}}" ng-model="contact.fname" />
                                    <p ng-show="contactForm.fname.$error.maxlength" class="help-block">{{'FIRST_NAME_MAXLENGTH_NEW_CONTACT' | translate}}</p>
                                </div>
                            </div>
                        </div>

                        <div class="row" ng-class="{ 'has-error' : contactForm.mname.$invalid && !contactForm.mname.$pristine }">
                            <div class="row top-buffer">
                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2">
                                    <span>{{'MIDDLE_NAME' | translate}}: </span>
                                </div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                    <input type="text" id="mname" ng-maxlength="25" name="mname" placeholder="{{'PLACEHOLDER_NAME' | translate}}" ng-model="contact.mname" />
                                    <p ng-show="contactForm.mname.$error.maxlength" class="help-block">{{'MIDDLE_NAME_MAXLENGTH_NEW_CONTACT' | translate}}</p>
                                </div>
                            </div>
                        </div>

                        <div class="row" ng-class="{ 'has-error' : contactForm.lname.$invalid && !contactForm.lname.$pristine }">
                            <div class="row top-buffer">
                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2">
                                    <span>{{'LAST_NAME' | translate}}: </span>
                                </div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                    <input type="text" ng-maxlength="25" id="lname" name="lname" placeholder="{{'PLACEHOLDER_NAME' | translate}}" ng-model="contact.lname" />
                                    <p ng-show="contactForm.lname.$error.maxlength" class="help-block">{{'LAST_NAME_MAXLENGTH_NEW_CONTACT' | translate}}</p>
                                </div>
                            </div>
                        </div>

                        <div class="row" ng-show="show_nickname" ng-class="{ 'has-error' : contactForm.nickname.$invalid && !contactForm.nickname.$pristine }">
                            <div class="row top-buffer">

                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2">
                                    <span>{{'NICKNAME' | translate}}: </span>
                                </div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                    <input type="text" ng-maxlength="25" id="nickname" name="nickname" placeholder="{{'PLACEHOLDER_NAME' | translate}}" ng-model="contact.nickname" />
                                    <span class="cgridbtn icon-delete-contact-field" ng-click="removeNickname();"></span>
                                    <p ng-show="contactForm.nickname.$error.maxlength" class="help-block">{{'NICK_NAME_MAXLENGTH_NEW_CONTACT' | translate}}</p>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="row top-buffer">
                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2">

                                </div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                    <span class="dropdown">
                                        <button ng-disabled="show_title && show_nickname" class="btn btn-default button-min-width dropdown-toggle" type="button" data-toggle="dropdown">
                                            <b>+ {{'ADD_MORE_NAME' | translate}}</b> <span class="caret"></span>
                                        </button>
                                        <ul class="dropdown-menu">
                                            <li ng-hide="show_title"><a href="javascript:void(0)" ng-click="show_title=true">{{'TITLE' | translate}}</a></li>
                                            <li ng-hide="show_nickname"><a href="javascript:void(0)" ng-click="show_nickname=true">{{'NICKNAME' | translate}}</a></li>
                                        </ul>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="container-fluid container-margin">
                        <div class="row top-buffer">
                            <label>{{'EMAIL' | translate}}</label><br />
                        </div>
                        <div class="row" ng-repeat="email in contact.emails">
                            <div class="row top-buffer" ng-class="{ 'has-error' : contactForm.email.$invalid && !contactForm.email.$pristine }">
                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2">
                                    <select class="remove-border" ng-model="email.label">
                                        <option value="HOME" selected="selected">{{'HOME' | translate}}</option>
                                        <option value="OFFICE">{{'OFFICE' | translate}}</option>
                                        <option value="OTHER">{{'OTHER' | translate}}</option>
                                    </select>
                                </div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                    <ng-form name="innerForm" ng-class="{ 'has-error' : innerForm.email.$invalid && !innerForm.email.$pristine }">
                                        <input type="email" ng-maxlength="70" id="email" name="email" placeholder="{{'TYPE_EMAIL' | translate}}" ng-model="email.value" ng-required="email.is_primary" />
                                        <span ng-if="contact.emails.length > 1 && !email.is_primary" class="cgridbtn icon-delete-contact-field" ng-click="remove_new_email($index)"></span>
                                        <input type="radio" name="primaryEmail" ng-model="email.is_primary" ng-click="setPrimaryEmail($index)" ng-value="true" />
                                        <span ng-show="email.is_primary == true" class="primary">{{'PRIMARY' | translate}}</span>
                                        <p ng-show="innerForm.email.$error.required" class="help-block">{{'PRIMARY_FIELD' | translate}}</p>
                                        <p ng-show="innerForm.email.$error.maxlength" class="help-block">{{'EMAIL_MAXLENGTH_NEW_CONTACT' | translate}}</p>
                                        <p ng-show="innerForm.email.$invalid && !innerForm.email.$pristine" class="help-block">{{'EMAIL_VALID' | translate}}</p>
                                    </ng-form>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="row top-buffer">
                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2"></div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                    <span class="dropdown">
                                        <button class="btn btn-default button-min-width dropdown-toggle" type="button" data-toggle="dropdown">
                                            <b>+ {{'ADD_MORE' | translate}}</b> <span class="caret"></span>
                                        </button>
                                        <ul class="dropdown-menu">
                                            <li><a href="javascript:void(0)" ng-click="add_new_email('HOME')">{{'HOME' | translate}}</a></li>
                                            <li><a href="javascript:void(0)" ng-click="add_new_email('OFFICE')">{{'OFFICE' | translate}}</a></li>
                                            <li><a href="javascript:void(0)" ng-click="add_new_email('OTHER')">{{'OTHER' | translate}}</a></li>
                                        </ul>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="container-fluid container-margin">
                        <div class="row">
                            <label>{{'PHONE' | translate}}</label><br />
                        </div>
                        <div class="row" ng-repeat="phone in contact.phones">
                            <div class="row top-buffer">
                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2">
                                    <select class="remove-border" ng-model="phone.label">
                                        <option value="HOME" selected="selected">{{'HOME' | translate}}</option>
                                        <option value="OFFICE">{{'OFFICE' | translate}}</option>
                                        <option value="MOBILE">{{'MOBILE' | translate}}</option>
                                        <option value="MAIN">{{'MAIN' | translate}}</option>
                                        <option value="HOME_FAX">{{'HOME_FAX' | translate}}</option>
                                        <option value="BUSINESS_FAX">{{'BUSINESS_FAX' | translate}}</option>
                                        <option value="OTHER">{{'OTHER' | translate}}</option>
                                    </select>
                                </div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                    <ng-form name="innerForm" ng-class="{ 'has-error' : innerForm.telCont.$invalid && !innerForm.telCont.$pristine }">
                                        <input type="tel" name="telCont" ng-required="phone.is_primary"  ng-model="phone.value" ng-pattern="/^[+ 0-9]*$/" ng-maxlength="20" id="phone_{{$index}}" ng-init="initTelDD($index)" />
                                        <span ng-if="contact.phones.length > 1 && !phone.is_primary" class="cgridbtn icon-delete-contact-field" ng-click="remove_new_phone($index)"></span>
                                        <input type="radio" name="primaryPhone" ng-model="phone.is_primary" ng-click="setPrimaryPhone($index)" ng-value="true" />
                                        <span ng-show="phone.is_primary == true" class="primary">{{'PRIMARY' | translate}}</span>
                                        <p ng-show="innerForm.telCont.$error.required && !innerForm.telCont.$pristine" class="help-block">{{'PRIMARY_FIELD' | translate}}</p>
                                        <p ng-show="innerForm.telCont.$error.maxlength" class="help-block">{{'PHONE_MAXLENGTH' | translate}}</p>
                                        <p ng-show="innerForm.telCont.$error.pattern" class="help-block">{{'PHONE_PATTERN' | translate}}</p>
                                    </ng-form>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="row top-buffer">
                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2"></div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                    <span class="dropdown">
                                        <button class="btn btn-default button-min-width dropdown-toggle" type="button" data-toggle="dropdown">
                                            <b>+ {{'ADD_MORE' | translate}}</b> <span class="caret"></span>
                                        </button>
                                        <ul class="dropdown-menu">
                                            <li><a href="javascript:void(0)" ng-click="add_new_phone('HOME')">{{'HOME' | translate}}</a></li>
                                            <li><a href="javascript:void(0)" ng-click="add_new_phone('OFFICE')">{{'OFFICE' | translate}}</a></li>
                                            <li><a href="javascript:void(0)" ng-click="add_new_phone('MOBILE')">{{'MOBILE' | translate}}</a></li>
                                            <li><a href="javascript:void(0)" ng-click="add_new_phone('MAIN')">{{'MAIN' | translate}}</a></li>
                                            <li><a href="javascript:void(0)" ng-click="add_new_phone('HOME_FAX')">{{'HOME_FAX' | translate}}</a></li>
                                            <li><a href="javascript:void(0)" ng-click="add_new_phone('BUSINESS_FAX')">{{'BUSINESS_FAX' | translate}}</a></li>
                                            <li><a href="javascript:void(0)" ng-click="add_new_phone('OTHER')">{{'OTHER' | translate}}</a></li>
                                        </ul>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="container-fluid container-margin">
                        <div class="row top-buffer">
                            <label>{{'IM' | translate}}</label><br />
                        </div>
                        <div class="row" ng-repeat="im in contact.im">
                            <div class="row top-buffer">
                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2" ng-if="im.label != 'SKYPE' && im.label != 'FACEBOOK'   &&
                                    im.label != 'QQ' &&
                                    im.label != 'LINE' &&
                                    im.label != 'WECHAT' &&
                                    im.label != 'YAHOO'
                                    &&
                                    im.label != 'GOOGLE_TALK'">
                                    <input type="text" class="custom-field" placeholder="{{'TYPE_FIELD_NAME' | translate}}" ng-model="im.label" />
                                </div>
                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2" ng-if="im.label == 'SKYPE' || im.label == 'FACEBOOK'   ||
                                    im.label == 'QQ' || im.label == 'LINE' ||
                                    im.label == 'WECHAT' || im.label == 'YAHOO'
                                    || im.label == 'GOOGLE_TALK'">
                                    <select class="remove-border" ng-model="im.label">
                                        <option value="SKYPE">{{'SKYPE' | translate}}</option>
                                        <option value="FACEBOOK">{{'FACEBOOK' | translate}}</option>
                                        <option value="QQ">{{'QQ' | translate}}</option>
                                        <option value="LINE">{{'LINE' | translate}}</option>
                                        <option value="WECHAT">{{'WECHAT' | translate}}</option>
                                        <option value="YAHOO">{{'YAHOO' | translate}}</option>
                                        <option value="GOOGLE_TALK">{{'GOOGLE_TALK' | translate}}</option>
                                        <option value="Custom">{{'TYPE_FIELD_NAME' | translate}}</option>
                                    </select>
                                </div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                    <ng-form name="innerForm" ng-class="{ 'has-error' : innerForm.im.$invalid && !innerForm.im.$pristine }">
                                        <input type="text" ng-maxlength="50" id="im" name="im" placeholder="{{'TYPE_IM_ID' | translate}}" ng-model="im.value" />
                                        <span ng-if="contact.im.length > 1" class="cgridbtn icon-delete-contact-field" ng-click="remove_new_im($index)"></span>
                                        <p ng-show="innerForm.im.$error.maxlength" class="help-block">{{'IM_MAX_LENGTH' | translate}}</p>
                                    </ng-form>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="row top-buffer">
                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2"></div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                    <span class="dropdown">
                                        <button class="btn btn-default button-min-width dropdown-toggle" type="button" data-toggle="dropdown">
                                            <b>+ {{'ADD_MORE' | translate}}</b> <span class="caret"></span>
                                        </button>
                                        <ul class="dropdown-menu">
                                            <li><a href="javascript:void(0)" ng-click="add_new_im('SKYPE')">{{'SKYPE' | translate}}</a></li>
                                            <li><a href="javascript:void(0)" ng-click="add_new_im('FACEBOOK')">{{'FACEBOOK' | translate}}</a></li>
                                            <li><a href="javascript:void(0)" ng-click="add_new_im('QQ')">{{'QQ' | translate}}</a></li>
                                            <li><a href="javascript:void(0)" ng-click="add_new_im('LINE')">{{'LINE' | translate}}</a></li>
                                            <li><a href="javascript:void(0)" ng-click="add_new_im('WECHAT')">{{'WECHAT' | translate}}</a></li>
                                            <li><a href="javascript:void(0)" ng-click="add_new_im('YAHOO')">{{'YAHOO' | translate}}</a></li>
                                            <li><a href="javascript:void(0)" ng-click="add_new_im('GOOGLE_TALK')">{{'GOOGLE_TALK' | translate}}</a></li>
                                            <li><a href="javascript:void(0)" ng-click="add_new_im('Custom')">{{'TYPE_FIELD_NAME' | translate}}</a></li>
                                        </ul>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="container-fluid container-margin">
                        <div class="row top-buffer">
                            <label>{{'EVENTS' | translate}}</label><br />
                        </div>
                        <div class="row" ng-repeat="event in contact.events">
                            <div class="row top-buffer">
                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2" ng-if="event.label != 'BIRTH_DATE' && event.label != 'ANNIVERSARY'">
                                    <input type="text" class="custom-field" placeholder="{{'TYPE_FIELD_NAME' | translate}}" ng-model="event.label" />
                                </div>
                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2" ng-if="event.label == 'BIRTH_DATE'">
                                    <span>{{'BIRTH_DATE' | translate}}:</span>
                                </div>
                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2" ng-if="event.label == 'ANNIVERSARY'">
                                    <span>{{'ANNIVERSARY' | translate}}:</span>
                                </div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8 datepicker-menu">
                                    <input readonly type="text" uib-datepicker-popup="dd/MMM/yyyy" ng-model="event.value" is-open="event.opened" datepicker-options="dateOptions" ng-required="false" placeholder="dd/MMM/yyyy" close-text="Close" alt-input-formats="altInputFormats" />
                                    <span class="datepicker-button">
                                        <button type="button" class="btn calender-btn" ng-click="open($event, $index)">
                                            <span>Calendar</span>
                                        </button>
                                    </span>
                                    <span ng-hide="event.label == 'BIRTH_DATE' || event.label == 'ANNIVERSARY'" class="cgridbtn icon-delete-contact-field" ng-click="remove_new_event($index)">
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="row top-buffer">
                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2"></div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                    <span class="dropdown">
                                        <button class="btn btn-default button-min-width" ng-click="add_new_event('OTHER')" type="button">
                                            <b>+ {{'ADD_MORE' | translate}}</b>
                                        </button>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="container-fluid container-margin">
                        <div class="row top-buffer">
                            <label>{{'OTHER_DETAILS' | translate}}</label><br />
                        </div>
                        <div class="row">
                            <div class="row top-buffer" ng-class="{ 'has-error' : contactForm.company.$invalid && !contactForm.company.$pristine }">
                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2">
                                    <span>{{'COMPANY' | translate}}:</span>
                                </div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                    <input type="text" ng-maxlength="100" id="company" name="company" placeholder="{{'TYPE_COMPANY_NAME' | translate}}" ng-model="contact.company_name" />
                                    <p ng-show="contactForm.company.$error.maxlength" class="help-block">{{'COMPANY_MAX_LENGTH' | translate}}</p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="row top-buffer" ng-class="{ 'has-error' : contactForm.addressHome.$invalid && !contactForm.addressHome.$pristine }">
                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2">
                                    <span>{{'HOME_ADDRESS' | translate}}:</span>
                                </div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                    <textarea rows="4" cols="51" ng-maxlength="200" id="addressHome" name="addressHome" placeholder="{{'TYPE_ADDRESS' | translate}}" ng-model="contact.addresses[0].value" />
                                    <p ng-show="contactForm.addressHome.$error.maxlength" class="help-block">{{'HOME_ADDRESS_MAX_LENGTH' | translate}}</p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="row top-buffer" ng-class="{ 'has-error' : contactForm.addressOffice.$invalid && !contactForm.addressOffice.$pristine }">
                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2">
                                    <span>{{'OFFICE_ADDRESS' | translate}}:</span>
                                </div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                    <textarea rows="4" cols="51" ng-maxlength="200" id="addressOffice" name="addressOffice" placeholder="{{'TYPE_ADDRESS' | translate}}" ng-model="contact.addresses[1].value" />
                                    <p ng-show="contactForm.addressOffice.$error.maxlength" class="help-block">{{'OFFICE_ADDRESS_MAX_LENGTH' | translate}}</p>
                                </div>
                            </div>
                        </div>
                        <div class="row" ng-repeat="web_page in contact.web_pages">
                            <div class="row top-buffer">
                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2">
                                    <span>{{'WEBPAGE' | translate}}:</span>
                                </div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                    <input type="text" name="web_page" placeholder="{{'TYPE_WEBPAGE' | translate}}" ng-model="web_page.value" />
                                    <span ng-if="contact.web_pages.length > 1" class="cgridbtn icon-delete-contact-field" ng-click="remove_new_webpage($index)"></span>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="row top-buffer">
                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2"></div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                    <button type="button" class="btn btn-default button-min-width" ng-click="add_new_webpage()"><b>+ {{'ADD_MORE_WEBPAGE' | translate}}</b></button>
                                </div>
                            </div>
                        </div>
                        <div class="row" ng-class="{ 'has-error' : contactForm.note.$invalid && !contactForm.note.$pristine }">
                            <div class="row top-buffer">
                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2">
                                    <span>{{'NOTE' | translate}}:</span>
                                </div>

                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                    <textarea rows="4" name="note" placeholder="{{'ENTER_NOTE' | translate}}" ng-model="contact.note"></textarea>
                                    <p ng-show="contactForm.note.$error.maxlength" class="help-block">{{'NOTE_MAXLENGTH' | translate}}</p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="row top-buffer">
                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2">
                                    <span>{{'ATTACHMENTS' | translate}}:</span>
                                </div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8 datepicker-menu">
                                    <span class="icon-attachment"
                                          ng-click="openFileUpload()"></span>
                                    <!--<span ng-disabled="contact.attachments.length >= 10" class="icon-attachment"
                                          ngf-pattern="'.pdf,.jpg,.PNG,.jpeg, .tif,.gif,.tiff,.doc,.docx,.txt'"
                                          ngf-select="uploadAttachment($files, $invalidFiles)" ngf-max-size="5MB" accept="*/*" ng-model="attachment"></span>
                                    <i ng-if="errFile.$error" style="color: red;">{{errFile.name}} {{'FILE_VALIDATION' | translate}} : {{errFile.$errorParam}}</i>-->

                                </div>
                            </div>

                            <div class="row top-buffer">
                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2">
                                </div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                    <div ng-repeat="attachmentFile in contact.attachments track by $index">
                                        <label class="attachments-preview">{{attachmentFile.label}}</label>
                                        <a href="{{api_url}}download?type=attachment&authorization=bearer {{accessToken}}&filename={{attachmentFile.value}}" download="{{attachmentFile.label}}"><img src="resources/img/download_normal.png"></a>
                                        <a href="javascript:void(0)" ng-click="deleteAttachment(attachmentFile, $index)"><img src="resources/img/action_delete_normal.png"></a>
                                    </div>
                                    <div ng-show="uploading">
                                        <label>{{attachment.name}}</label>
                                        <img src="resources/img/loading_spinner.gif" height="25" width="25">
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="row">
                        <div class="container-fluid" ng-repeat="other in contact.others">
                            <div class="row top-buffer">
                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2">
                                    <ng-form name="innerFormLabel" ng-class="{ 'has-error' : innerFormLabel.other_field_name.$invalid && !innerFormLabel.other_field_name.$pristine }">
                                        <input type="text" class="custom-field" ng-maxlength="20" id="other_field_name" name="other_field_name" placeholder="{{'TYPE_FIELD_NAME' | translate}}" ng-model="other.label" />
                                        <p ng-show="innerFormLabel.other_field_name.$error.maxlength" class="help-block">{{'CUSTOM_FIELD_LABLE_VALIDATION' | translate}}</p>
                                    </ng-form>
                                </div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                    <ng-form name="innerFormValue" ng-class="{ 'has-error' : innerFormValue.other_field_value.$invalid && !innerFormValue.other_field_value.$pristine }">
                                        <input type="text" ng-maxlength="50" id="other_field_value" name="other_field_value" placeholder="{{'TYPE_FIELD_VALUE' | translate}}" ng-model="other.value" />
                                        <span class="cgridbtn icon-delete-contact-field" ng-click="remove_new_other($index)"></span>
                                        <p ng-show="innerFormValue.other_field_value.$error.maxlength" class="help-block">{{'CUSTOM_FIELD_VALUE_VALIDATION' | translate}}</p>
                                    </ng-form>
                                </div>
                            </div>
                        </div>
                        <div class="container-fluid container-margin">
                            <div class="row top-buffer">
                                <div class="col-xs-4 col-sm-4 col-md-3 col-lg-2">
                                    <button type="button" class="btn btn-default button-min-width" ng-click="add_new_other()"><b>+ {{'ADD_NEW_FIELD' | translate}}</b></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="clear"></div>
        </div>
        <div class="buttons-div">
            <input type="button" ng-click="saveContact(contactForm, contact)" ng-disabled="contactForm.$invalid || !unsaved_form"
                   name="saveContact" id="saveContact" class="btn btn-default button-min-width" value="{{'BUTTON_SAVE' | translate}}"></input>

            <button type="button" name="cancel" ng-click="cancelContact()" class="btn btn-default button-min-width" id="cancel">{{'CANCEL' | translate}}</button>
        </div>
    </form>
</div>